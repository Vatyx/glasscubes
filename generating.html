<html>
  <head>
    <title>First</title>
    <style>
      body { margin: 0; }
      canvas { width: 100%; height: 100% }
    </style>
  </head>
  <body>    
    <script src="http://threejs.org/build/three.min.js"></script> 
    
    <script>
    var scene, camera, renderer;
    var geometry, material, mesh;
    var group, group1;
    var numOfLines = 7;
    var lines = [];
    var boxes = [];
    var length = 50;
    var counter = 60;
    init();
    animate();

    function init() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 500);
        camera.position.set(0, 0, 100);
        camera.lookAt(new THREE.Vector3(0, 0, 0));
        renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );
        var pointLight = new THREE.PointLight(0xFFFFFF);

        pointLight.position.x = 10;
        pointLight.position.y = 50;
        pointLight.position.z = 130;

        scene.add(pointLight);
        var top = 30;

        // for(var i = 0; i < numOfLines; i++)
        // {
        //     line = {};
        //     line.color = Math.random() * 0xffffff;
        //     line.vert = top - 10*i;
        //     line.interval = Math.floor(Math.random() * (80 - 30 + 1)) + 30;
        //     var geometry = new THREE.Geometry();
        //     geometry.vertices.push(new THREE.Vector3(-length, line.vert, 0));
        //     geometry.vertices.push(new THREE.Vector3(length, line.vert, 0));
        //     var material = new THREE.LineBasicMaterial({
        //     color: line.color
        //     });
        //     var l = new THREE.Line(geometry, material);
        //     scene.add(l);
        //     line.body = l;
        //     lines.push(line);
        // }

        geometry = new THREE.Geometry();
        geometry.vertices.push(new THREE.Vector3(-length, 0, 0));
        geometry.vertices.push(new THREE.Vector3(length, 20, 20));

        var mtx = new THREE.Matrix4();
        //mtx.makeTranslation(0, 20, 0);
        //geometry.applyMatrix(mtx);

        var material = new THREE.LineBasicMaterial({
            color: 0x00ff00
        });

        var l = new THREE.Line(geometry, material);

        group = new THREE.Object3D();
        group.add(l)

        group.matrix = mtx;
        group.matrixAutoUpdate = false;

        scene.add(group);

        var cgeometry = new THREE.BoxGeometry( 3, 3, 3);
        cgeometry.translate(geometry.vertices[0].x, geometry.vertices[0].y, geometry.vertices[0].z)
        var material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x050505,
        shininess: 100 } );
        var mesh = new THREE.Mesh( cgeometry, material );
        group1 = new THREE.Object3D();
        group1.add( mesh );
        group1.position.set(0, 0, 0);
        scene.add(group1);
    }

    function animate() {
        requestAnimationFrame( animate );
        
        //var norm = geometry.vertices[1];
        //norm.normalize();
        var norm = new THREE.Vector3(geometry.vertices[1].x, geometry.vertices[1].y/2, geometry.vertices[1].z/2);
        norm.normalize();
        //console.log(norm);

        group1.position.add(norm);

        renderer.render( scene, camera );
    }
    </script>
  </body>
</html>